ç®€ä½“ä¸­æ–‡ | [English](./README_en.md)

å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œä¸å¦¨ç»™ä¸ªStarâ­ï¸ğŸŒŸæ”¯æŒä¸€ä¸‹å§~ è°¢è°¢ï¼

# Acknowledgments & Contact 
### 1.WeChat ID: cbp931126
1. åŠ å…¥è®¨è®ºç¾¤(å¤‡æ³¨ï¼šPlateAlgorithm),å¤§ä½¬å¤šå¤šå¤šå·å·å·ï¼›
2. è¿›è®¨è®ºç¾¤å¯ä»¥è·å¾—10Gå¤§å°çš„è½¦ç‰Œæ£€æµ‹å’Œè¯†åˆ«æ•°æ®ï¼›

# Web Test
å¤§é™†è½¦ç‰Œè¯†åˆ«ã€æ¸¯æ¾³è½¦ç‰Œè¯†åˆ«ã€å°æ¹¾è½¦ç‰Œè¯†åˆ«åœ¨çº¿ä½“éªŒ:http://zhoujiayao.com:8200/

## ç‰¹æ€§
1. æ”¯æŒLinux/Win/Centos/Ubuntuä¸‹CPUã€GPUéƒ¨ç½²ï¼Œæ”¯æŒå®šåˆ¶åŒ–å¼€å‘
2. æ”¯æŒAndroidã€uniappéƒ¨ç½²
3. æ”¯æŒç‘èŠ¯å¾®rv1106/rv1106/rk3588/rk3568ç­‰ä¾§ç«¯éƒ¨ç½²
   | å‹å· |é€Ÿåº¦|ç²¾åº¦ |æ¥å£|
   |:----------:|:----------:|:----------:|:----------:|
   |rk3588           |18ms|       99%+    |C/C++ã€python|
   |rk3568 	         |70ms|       99%+    |C/C++ã€python|
   |rv1126 	         |62ms|       99%+    |  C/C++     |
   |rv1106 	         |158ms|      99%+    |  C/C++     |

4. æ”¯æŒç®—èƒ½BM1684ç³»åˆ—ä¾§ç«¯éƒ¨ç½²
5. æ”¯æŒçˆ±èŠ¯ç³»åˆ—ä¾§ç«¯éƒ¨ç½²:
6. æ”¯æŒæµ·æ€ç³»åˆ—ä¾§ç«¯éƒ¨ç½²:SS928/Hi3403/Hi3519DV500/Hi3516DV500/Hi3516DV300/Hi3516CV610ç­‰
7. Linux/Win/Centos/Ubuntuä¸‹æ”¯æŒTensorRTã€OnnxRuntimeã€OpenVINOã€NCNNç­‰æ¡†æ¶æ¨ç†ï¼Œæ”¯æŒC/C++ï¼Œpythonï¼ŒC#,Javaç­‰è¯­è¨€è°ƒç”¨

## è¯†åˆ«æ•ˆæœ
<img src="resources/1.jpg" alt="drawing" width="380"/> <img src="resources/3.jpg" alt="drawing" width="380"/>
<img src="resources/9.jpg" alt="drawing" width="380"/> <img src="resources/10.jpg" alt="drawing" width="380"/>
<img src="PlateDetectionRecognition/test/yolov7_result/37_0315.jpg" alt="drawing" width="380"/> <img src="resources/2.jpg" alt="drawing" width="380"/>
<img src="resources/7.jpg" alt="drawing" width="380"/> <img src="resources/8.jpg" alt="drawing" width="380"/>

# PlateAlgorithm
## **è½¦ç‰Œè¯†åˆ«ç®—æ³•ï¼Œæ”¯æŒ12ç§ä¸­æ–‡è½¦ç‰Œç±»å‹**
**1.å•è¡Œè“ç‰Œ**
**2.å•è¡Œé»„ç‰Œ**
**3.æ–°èƒ½æºè½¦ç‰Œ**
**4.ç™½è‰²è­¦ç”¨è½¦ç‰Œ**
**5 æ•™ç»ƒè½¦ç‰Œ**
**6 æ­¦è­¦è½¦ç‰Œ**
**7 åŒå±‚é»„ç‰Œ**
**8 åŒå±‚æ­¦è­¦**
**9 ä½¿é¦†è½¦ç‰Œ**
**10 æ¸¯æ¾³ç‰Œè½¦**
**11 åŒå±‚å†œç”¨è½¦ç‰Œ**
**12 æ°‘èˆªè½¦ç‰Œ**

## è¯´æ˜
1. è½¦ç‰Œæ£€æµ‹(yolov5plate,yolov7plate,yolov8playe),è½¦ç‰Œæ ¡æ­£ï¼Œè½¦ç‰Œè¯†åˆ«ï¼Œè½¦ç‰Œæ£€æµ‹è¯†åˆ«;
   
   | æ–‡ä»¶å¤¹ | State    |  è¯´æ˜   |
   |:----------|:----------|:----------|
   |PLateDetection_yolov5                 |Done|           yolov5 è½¦ç‰Œæ£€æµ‹              |
   |PLateDetection_yolov7 				      |Done|           yolov7 è½¦ç‰Œæ£€æµ‹              |
   |PLateDetection_yolov8 				      |Doing|          yolov8 è½¦ç‰Œæ£€æµ‹              |
   |PlateRecognition 				         |Done|           è½¦ç‰Œè¯†åˆ«                     |
   |PlateDetectionRecognition 				|Done|           è½¦ç‰Œæ£€æµ‹->è½¦ç‰Œæ ¡æ­£->è½¦ç‰Œè¯†åˆ«    |
   
2. æ‰€æœ‰æ¨¡å‹å‡ä½¿ç”¨C++å’ŒTensorRTåŠ é€Ÿæ¨ç†,yolov7plateçš„å‰åå¤„ç†ä½¿ç”¨cudaåŠ é€Ÿ,(å…¶ä»–æ¨¡å‹åŠ é€Ÿä¼˜åŒ–ä¹Ÿå¯å‚è€ƒ);
3. æ ¹æ®ä¸åŒçš„æ˜¾å¡å‹å·è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„engine(å¦‚æœæ–‡ä»¶å¤¹ä¸‹æœ‰å…¶ä»–æ˜¾å¡é€‚é…engineï¼Œåˆ™åˆ é™¤engineæ‰èƒ½é‡æ–°ç”Ÿæˆä½¿ç”¨ä¸­çš„æ˜¾å¡å¯¹åº”çš„engien);
4. PlateDetectionRecognition->test->main.cppæ–‡ä»¶ä¸­çš„æ¡ä»¶ç¼–è¯‘æµ‹è¯•è¯´æ˜
	| æµ‹è¯•ç±»åˆ« |  enable    |  è¯´æ˜   |
	|:----------|:----------|:----------|
   |yolov5_plate                 |1|           yolov7è½¦ç‰Œæ£€æµ‹               |
   |yolov7_plate 				      |1|           yolov5 è½¦ç‰Œæ£€æµ‹              |

5. è½¦ç‰Œè¯†åˆ«å‡†ç¡®ç‡(æµ‹è¯•é›†æ•°é‡:5.2wå¼ )
   | æ¨¡å‹ |  size    |  å‡†ç¡®ç‡   |é€Ÿåº¦| å¹³å°|
	|:----------:|:----------:|:----------:|:----------:|:----------:|
   |plate_recognition_color|s|   92.40%|452.480us|RTX3090|
   |plate_recognition_s    |s|   98.90%|452.597us|RTX3090|
   |plate_recognition_m    |m|   99.35%|463.316us|RTX3090|
   |plate_recognition_l    |l|   99.56%|507.082us|RTX3090|



## ç®—æ³•è¯´æ˜

# ç®—æ³•æ¥å£
```
/** 
 * @brief                  è½¦ç‰Œåˆå§‹åŒ–å‡½æ•°
 * @param config           æ¨¡å—é…ç½®å‚æ•°ç»“æ„ä½“
 * @return                 HZFLAG
 */
void*Initialize(Config*config);

/** 
 * @brief                  è½¦ç‰Œæ£€æµ‹è¯†åˆ«(yolov5)
 * @param img              Plate_ImageData
 * @param PlateDet         è½¦ç‰Œæ£€æµ‹è¯†åˆ«ç»“æœåˆ—è¡¨
 * @return                 HZFLAG
 */		
int PlateRecognition_yolov5(void*p,Plate_ImageData*img,PlateDet*PlateDets);

/** 
 * @brief                  è½¦ç‰Œæ£€æµ‹(yolov7_plate)
 * @param img              Plate_ImageData
 * @param PlateDet         è½¦ç‰Œæ£€æµ‹è¯†åˆ«ç»“æœåˆ—è¡¨
 * @return                 HZFLAG
 */		
int PlateRecognition_yolov7(void*p,Plate_ImageData*img,PlateDet*PlateDets);


/** 
 * @brief                  è½¦ç‰Œæ£€æµ‹(yolov8_plate)
 * @param img              Plate_ImageData
 * @param PlateDet         è½¦ç‰Œæ£€æµ‹è¯†åˆ«ç»“æœåˆ—è¡¨
 * @return                 HZFLAG
 */		
int PlateRecognition_yolov8(void*p,Plate_ImageData*img,PlateDet*PlateDets);

/** 
 * @brief                  ååˆå§‹åŒ–
 * @return                 HZFLAG 
 */		
int Release(void*p,Config*config);
```

## 2.ç¯å¢ƒ
1. ubuntu20.04+cuda11.1+cudnn8.2.1+TensorRT8.2.5.1(æµ‹è¯•é€šè¿‡)
2. ubuntu18.04+cuda10.2+cudnn8.2.1+TensorRT8.2.5.1(æµ‹è¯•é€šè¿‡)
3. Win10+cuda11.1+cudnn8.2.1+TensorRT8.2.5.1      (æµ‹è¯•é€šè¿‡)
4. å…¶ä»–ç¯å¢ƒè¯·è‡ªè¡Œå°è¯•æˆ–è€…åŠ ç¾¤äº†è§£


## 3.ç¼–è¯‘
1. æ›´æ”¹æ ¹ç›®å½•ä¸‹çš„CMakeLists.txt,è®¾ç½®tensorrtçš„å®‰è£…ç›®å½•
```
set(TensorRT_INCLUDE "/xxx/xxx/TensorRT-8.2.5.1/include" CACHE INTERNAL "TensorRT Library include location")
set(TensorRT_LIB "/xxx/xxx/TensorRT-8.2.5.1/lib" CACHE INTERNAL "TensorRT Library lib location")
```
2. é»˜è®¤opencvå·²å®‰è£…ï¼Œcuda,cudnnå·²å®‰è£…
3. ä¸ºäº†Debugé»˜è®¤ç¼–è¯‘ ```-g O0``` ç‰ˆæœ¬,å¦‚æœä¸ºäº†åŠ å¿«é€Ÿåº¦è¯·ç¼–è¯‘Releaseç‰ˆæœ¬

4. ä½¿ç”¨Visual Studio Codeå¿«æ·é”®ç¼–è¯‘(4,5äºŒé€‰å…¶ä¸€):
```
   ctrl+shift+B
```
5. ä½¿ç”¨å‘½ä»¤è¡Œç¼–è¯‘(4,5äºŒé€‰å…¶ä¸€):
```
   mkdir build
   cd build
   cmake ..
   make -j6
```

# References
1. https://github.com/deepcam-cn/yolov5-face
2. https://github.com/derronqi/yolov7-face/tree/main
3. https://github.com/we0091234/yolov7-face-tensorrt
4. https://github.com/derronqi/yolov8-face
5. https://github.com/we0091234/crnn_plate_recognition
6. https://github.com/we0091234/Chinese_license_plate_detection_recognition   
